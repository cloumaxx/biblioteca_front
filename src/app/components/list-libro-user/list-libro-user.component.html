<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<div class="body">
  <h1> Bienvenido {{user.nombre}}</h1>
  
  <div class="container">
    <app-navbar></app-navbar>
    <h1>Libros disponibles</h1>
    <button *ngIf="admin" type="button" class="btn btn-primary" (click)="openCreateDialog()">
      <i class="bi bi-plus-circle"></i>
    </button>
    <div class="row">
      <div class="col-lg-12">
        <div class="main-box clearfix">
          <div class="table-responsive">
            <div class="container">
              <table class="table user-list">
                <thead>
                  <tr>
                    <th><span>Id</span></th>
                    <th><span>Titulo</span></th>
                    <th><span>Autor</span></th>
                    <th class="text-center"><span>Cantidad disponibles</span></th>
                    <th>Acciones</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let libro of libros | paginate: itemsPerPage : currentPage">
                    <td>
                      <span class="user-subhead">{{ libro.id }}</span>
                    </td>
                    <td>
                      <span class="user-subhead">{{ libro.titulo }}</span>
                    </td>
                    <td>
                      <span class="user-subhead">{{ libro.autor }}</span>
                    </td>
                    <td class="text-center">
                      {{ libro.cantidad_stock }}
                    </td>
                    <td style="width: 10%;">
                        <!-- Botón para ver detalles del libro -->
                        <button type="button" class="btn btn-primary" (click)="openDetailDialog(libro)">
                            <i class="bi bi-search"></i>
                        </button>

                        <!-- Botón para pedir libro -->
                        <button type="button" class="btn btn-success" (click)="pedirLibro(libro)">
                          <i class="bi bi-folder-plus"></i>

                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>

              <!-- Aquí agregas controles para manejar la paginación -->
              <div class="pagination-controls">
                <button (click)="previousPage()" [disabled]="currentPage <= 1">Anterior</button>
                <span>Página {{ currentPage }}</span>
                <button (click)="nextPage()" [disabled]="currentPage >= totalPages">Siguiente</button>
              </div>
            </div>

          </div>

        </div>
      </div>
    </div>
  </div>
</div>
