<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<div class="body">
  <div class="container-xl">
    <div class="table-responsive">
      <div class="table-wrapper">
        <div class="table-title">
          <div class="row">

            <div class="col-sm-6">
              <h2><b>Libros</b></h2>
            </div>
            <div class="col-sm-6">

              <button type="button" class="btn btn-success" (click)="openCreateDialog()">
                <i class="bi bi-plus-circle"></i><span>Crear Libro</span>
              </button>
            </div>
          </div>
        </div>
        <table class="table table-striped table-hover">
          <thead>
            <tr>

              <th>Id</th>
              <th>Titulo</th>
              <th>Autor</th>
              <th>Cantidad disponibles</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let libro of libros | paginate: itemsPerPage : currentPage">

              <td>{{ libro.id }}</td>
              <td>{{ libro.titulo }}</td>
              <td>{{ libro.autor }}</td>
              <td>{{ libro.cantidad_stock }}</td>
              <td>
                <!-- Botón para ver detalles del libro -->
                <button type="button" class="btn btn-link text-primary p-0 m-0" (click)="openDetailDialog(libro)"
                  data-toggle="tooltip" title="Ver detalles del libro">
                  <i class="material-icons" data-toggle="tooltip" title="Detalles">&#xE8B6;</i>
                </button>

                <!-- Botón para pedir libro -->
                <button type="button" class="btn btn-link text-danger p-0 m-0"
                  data-toggle="tooltip" title="Pedir este libro" (click)="deleteLibro(libro)">
                  <i class="bi bi-trash" data-toggle="tooltip" title="Eliminar Libro"></i>
                </button> 
              </td>
            </tr>

          </tbody>
        </table>
        <div class="clearfix">
          <div class="hint-text">Viendo <b>{{itemsPerPage}}</b> de <b>{{totalItems}}</b> datos</div>
          <ul class="pagination">
            <button 
            class="btn btn-primary me-2"
            (click)="previousPage()" 
            [disabled]="currentPage <= 1">
            Anterior
        </button>
        
        <!-- Indicador de Página Actual -->
        <span class="me-2">Página {{ currentPage }} de {{ totalPages }}</span>
        
        <!-- Botón Siguiente -->
        <button 
            class="btn btn-primary"
            (click)="nextPage()" 
            [disabled]="currentPage >= totalPages">
            Siguiente
        </button>  </ul>
        </div>
      </div>
    </div>
  </div>

</div>
